# 第三章 角色与权限管理模块使用说明
## 功能简介

角色与权限管理模块用于定义后台系统中不同类型用户的权限范围。通过新增、编辑角色，分配可访问的功能模块，实现系统的精细化权限控制。支持角色软删除、角色描述、模块分配限制等。

## 功能一览

功能项 | 说明
--- | ---
查看角色列表 | 展示所有有效角色，含名称、描述与操作
新增角色 | 填写角色名称和描述后创建角色
编辑角色 | 支持修改名称与描述，内置角色为只读
删除角色 | 执行软删除，若被用户使用则禁止删除
分配模块 | 为不同角色指派功能模块，admin保留“模块管理”，editor限制模块
名称唯一校验 | 角色名不可重复，已删除角色也视为占用
日志记录 | 所有操作将记录到日志中便于审计

## 操作指南

### 查看与管理角色

1. 进入“角色管理”模块，系统自动列出所有有效角色。

1. 点击【新增角色】按钮跳转至角色创建页面。

1. 每行右侧提供【编辑】、【分配模块】和【删除】按钮，操作角色。

### 新增角色

1. 点击【新增角色】后进入角色表单页面。

1. 填写角色名称与描述，点击【创建角色】按钮保存。

1. 系统会校验名称是否重复（包含回收站记录），如有冲突将提示。

### 编辑角色

1. 点击角色列表中【编辑】按钮进入编辑页面。

1. 页面将显示角色现有名称与描述，可根据需要进行修改。

1. 系统内置角色如 admin/editor 将设为只读，无法修改。

### 删除角色

1. 点击【删除】按钮系统将执行软删除操作，并记录日志。

1. 如该角色下仍有关联用户，系统将提示需先更换用户角色后再删除。

1. admin/editor 等系统默认角色不可删除，按钮将被禁用。

### 分配模块

1. 点击【分配模块】按钮进入模块选择页面。

1. 系统列出所有可配置模块，并支持切换开关操作。

1. admin 角色必须保留“模块管理”权限，该项将自动勾选不可取消。

1. editor 角色仅可勾选“文章管理”与“文章分类管理”两个模块，其它项将被禁用。

1. 设置完成后点击【保存分配】，系统将更新对应权限。

## 使用建议

- 角色命名建议简洁明确，便于后续权限配置与维护。

- 系统默认角色建议保留完整权限，不建议修改或删除。

- 在分配模块前应规划好各角色职能，避免权限越权。

- 删除角色前请确保所有关联用户已被转移至其他角色。

- 可定期审查权限配置是否仍符合当前业务需求。

## 页面结构（简述）

### 角色列表页

- 顶部为模块标题与【新增角色】按钮。

- 表格包含角色名称、描述、操作按钮。

- 操作包含：编辑、分配模块、删除；部分角色禁用删除操作。

### 角色表单页（新增 / 编辑）

- 字段：角色名称、角色描述、提交按钮。

- admin/editor 等内置角色字段为只读，不可编辑。

- 页面底部提供返回按钮。

### 分配模块页

- 列出所有系统功能模块，使用开关按钮进行分配操作。

- admin 必选模块使用特殊标记提示“必选”，且不可取消勾选。

- editor 仅显示允许模块，其他模块项禁用。

- 保存按钮提交权限配置，底部提供返回链接。

## 常见问题解答

问题 | 解答
--- | ---
创建角色时提示“角色名称已存在”？ | 请更换角色名称，系统禁止名称重复（包含已删除角色）。
是否可以删除 admin 或 editor 角色？ | 不可以。系统默认角色禁止删除。
删除角色提示有关联用户无法删除？ | 请先进入“用户管理”将关联用户的角色转移后再执行删除。
是否支持批量分配模块？ | 暂不支持，需逐一进入角色中配置模块权限。
修改模块分配是否立即生效？ | 是的，保存后即刻生效。用户下次登录将以新权限为准。

## 如需帮助

如在角色新增、删除、权限配置过程中遇到问题，请联系系统管理员或平台运维技术人员协助处理。

